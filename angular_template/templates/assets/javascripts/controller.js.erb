/**
 * Controleur dans le module projectsModuleControllers
 */
projectsModuleControllers.controller('ProjectsController', ['$scope', '$http',
  function($scope, $http){
    // Liste des Projects
    /*$http.get('projects/list.json').success(function(data) {
      $scope.projects = data;
    });*/
    $scope.projects = [
      {'id': '1',
        'name': 'Projet 1',
        'detail': 'bla bla bla',
        'created_at': '2014/02/12'},
      {'id': '2',
        'name': 'Projet 2',
        'detail': 'bla bla bla',
        'created_at': '2014/01/04'}
    ];

    $scope.projectOrder = "";
    $scope.projectQuery = "";
  }
]);

projectsModuleControllers.controller('ProjectsDetailController', ['$scope', '$routeParams', '$http',
  function($scope, $routeParams, $http){
    /*$http.get('projects/' + $routeParams.projectId + '.json').success(function(data) {
      $scope.project = data;
    });*/
    $scope.project = {
      'id': $routeParams.projectId,
      'name': 'Projet '+$routeParams.projectId, 
      'detail': 'blablabla'
    };

    // Enregistre le formulaire
    $scope.submit = function() {
      if($scope.project.name){
        $scope.result = {
          'id': $scope.project.id,
          'name': $scope.project.name, 
          'detail': $scope.project.detail
        };
        /*$http({method: 'POST', url: '/projects/modify', data: $scope.result}).
          success(function(data, status, headers, config) {
            alert('success');
          }).
          error(function(data, status, headers, config) {
            alert('error');
          });*/
      }
    };
  }
]);
