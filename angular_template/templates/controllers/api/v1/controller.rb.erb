module Api
  module V1 
    # API v1 for the controller <%= class_name %>
    # * Standard response is in json
    class <%= class_name.pluralize %>Controller < ApplicationController
      before_action :set_<%= class_name.tableize.singularize %>, only: [:index, :show]
      respond_to :json

      # List all the <%= class_name %> of the DB
      def index
        respond_with <%= class_name.camelize(:upper) %>.all
      end

      # Return the demanded <%= class_name %>
      def show
        respond_with @<%= class_name.tableize.singularize %>
      end

      

      private
        # Use callbacks to share common setup or constraints between actions.
        def set_<%= class_name.tableize.singularize %>
          @<%= class_name.tableize.singularize %> = <%= class_name.camelize(:upper) %>.find(params[:id])
        end

        # Never trust parameters from the scary internet, only allow the white list through.
        def <%= class_name.tableize.singularize %>_params
          params[:<%= class_name.tableize.singularize %>]
        end
    end
  end
end